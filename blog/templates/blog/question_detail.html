{% extends 'layouts/base.html' %}
{% load hitcount_tags %}

{% block content %}

<div class ="d-flex">
    <div class="card" style="width: 100rem; height: 15rem">
        <h5 class="card-header">{{question.user.username }}</h5>
        <div class="card-body">
          <h5 class="card-title">{{question.title}}</h5>
          <p class="card-text">{{ question.body|safe }}</p>
          <a href="{% url 'blog:questions-in-categories' question.category.slug %}" class="btn btn-outline-primary" role="button" aria-pressed="true">{{question.category}}</a>
          <p  role="button" class="btn btn-success btn-large">Views: {% get_hit_count for question %} </p>
        </div>
        {% if user == question.user %}
        <a href="{% url 'blog:update-question' question.pk %}" role="button" class="btn btn-success btn-large">edit the question</a>
      <a href="{% url 'blog:delete-question' question.pk %}" role="button" class="btn btn-danger btn-large">delete this question</a>

      {% endif %}
      
    </div>

</div>

  {% for answer in answers%}
    <div class="card" style="width: 65rem;">
      <div class="card-body">
        <h5 class="card-title">{{answer.user_id}}</h5>
        <h6 class="card-subtitle mb-2 text-muted">{{answer.created_date}}</h6>
        <p class="card-text">{{answer.body|safe}}</p>
        <a href="#" class="card-link">{{answer.total_like}}</a>
      </div>
    </div>
    
{%endfor%}

{% endblock %}
